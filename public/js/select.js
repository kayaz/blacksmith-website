(function(e){"use strict";function t(e,t){return e.toUpperCase().indexOf(t.toUpperCase())>-1}function n(t){var n=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}];e.each(n,function(){t=t.replace(this.re,this.ch)});return t}function r(e){var t={"&":"&","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var n="(?:"+Object.keys(t).join("|")+")",r=new RegExp(n),i=new RegExp(n,"g"),s=e==null?"":""+e;return r.test(s)?s.replace(i,function(e){return t[e]}):s}function s(t,n){var r=arguments;var s=t,t=r[0],n=r[1];[].shift.apply(r);if(typeof t=="undefined"){t=s}var o;var u=this.each(function(){var s=e(this);if(s.is("select")){var u=s.data("selectpicker"),a=typeof t=="object"&&t;if(!u){var f=e.extend({},i.DEFAULTS,e.fn.selectpicker.defaults||{},s.data(),a);s.data("selectpicker",u=new i(this,f,n))}else if(a){for(var l in a){if(a.hasOwnProperty(l)){u.options[l]=a[l]}}}if(typeof t=="string"){if(u[t]instanceof Function){o=u[t].apply(u,r)}else{o=u.options[t]}}}});if(typeof o!=="undefined"){return o}else{return u}}e.expr[":"].icontains=function(n,r,i){return t(e(n).text(),i[3])};e.expr[":"].aicontains=function(n,r,i){return t(e(n).data("normalizedText")||e(n).text(),i[3])};var i=function(t,n,r){if(r){r.stopPropagation();r.preventDefault()}this.$element=e(t);this.$newElement=null;this.$button=null;this.$menu=null;this.$lis=null;this.options=n;if(this.options.title===null){this.options.title=this.$element.attr("title")}this.val=i.prototype.val;this.render=i.prototype.render;this.refresh=i.prototype.refresh;this.setStyle=i.prototype.setStyle;this.selectAll=i.prototype.selectAll;this.deselectAll=i.prototype.deselectAll;this.destroy=i.prototype.remove;this.remove=i.prototype.remove;this.show=i.prototype.show;this.hide=i.prototype.hide;this.init()};i.VERSION="1.6.3";i.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results match",countSelectedText:function(e,t){return e==1?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){var n=[];n[0]=e==1?"Limit reached ({n} item max)":"Limit reached ({n} items max)";n[1]=t==1?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)";return n},selectAllText:"Select All",deselectAllText:"Deselect All",multipleSeparator:", ",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:false,container:false,hideDisabled:false,showSubtext:false,showIcon:true,showContent:true,dropupAuto:true,header:false,liveSearch:false,actionsBox:false,iconBase:"glyphicon",tickIcon:"glyphicon-ok",maxOptions:false,mobile:false,selectOnTab:false,dropdownAlignRight:false,searchAccentInsensitive:false};i.prototype={constructor:i,init:function(){var t=this,n=this.$element.attr("id");this.$element.hide();this.multiple=this.$element.prop("multiple");this.autofocus=this.$element.prop("autofocus");this.$newElement=this.createView();this.$element.after(this.$newElement);this.$menu=this.$newElement.find("> .dropdown-menu");this.$button=this.$newElement.find("> button");this.$searchbox=this.$newElement.find("input");if(this.options.dropdownAlignRight)this.$menu.addClass("dropdown-menu-right");if(typeof n!=="undefined"){this.$button.attr("data-id",n);e('label[for="'+n+'"]').click(function(e){e.preventDefault();t.$button.focus()})}this.checkDisabled();this.clickListener();if(this.options.liveSearch)this.liveSearchListener();this.render();this.liHeight();this.setStyle();this.setWidth();if(this.options.container)this.selectPosition();this.$menu.data("this",this);this.$newElement.data("this",this);if(this.options.mobile)this.mobile()},createDropdown:function(){var t=this.multiple?" show-tick":"",n=this.$element.parent().hasClass("input-group")?" input-group-btn":"",r=this.autofocus?" autofocus":"",i=this.$element.parents().hasClass("form-group-lg")?" btn-lg":this.$element.parents().hasClass("form-group-sm")?" btn-sm":"";var s=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"";var o=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="input-block-level form-control" autocomplete="off" /></div>':"";var u=this.options.actionsBox?'<div class="bs-actionsbox">'+'<div class="btn-group btn-block">'+'<button class="actions-btn bs-select-all btn btn-sm btn-default">'+this.options.selectAllText+"</button>"+'<button class="actions-btn bs-deselect-all btn btn-sm btn-default">'+this.options.deselectAllText+"</button>"+"</div>"+"</div>":"";var a='<div class="btn-group bootstrap-select'+t+n+'">'+'<button type="button" class="btn dropdown-toggle selectpicker'+i+'" data-toggle="dropdown"'+r+">"+'<span class="filter-option pull-left"></span>&nbsp;'+'<span class="caret"></span>'+"</button>"+'<div class="dropdown-menu open">'+s+o+u+'<ul class="dropdown-menu inner selectpicker" role="menu">'+"</ul>"+"</div>"+"</div>";return e(a)},createView:function(){var e=this.createDropdown();var t=this.createLi();e.find("ul").append(t);return e},reloadLi:function(){this.destroyLi();var e=this.createLi();this.$menu.find("ul").append(e)},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var t=this,i=[],s=0;var o=function(e,t,n){return"<li"+(typeof n!=="undefined"?' class="'+n+'"':"")+(typeof t!=="undefined"|null===t?' data-original-index="'+t+'"':"")+">"+e+"</li>"};var u=function(e,i,s,o){var u=n(r(e));return'<a tabindex="0"'+(typeof i!=="undefined"?' class="'+i+'"':"")+(typeof s!=="undefined"?' style="'+s+'"':"")+(typeof o!=="undefined"?'data-optgroup="'+o+'"':"")+' data-normalized-text="'+u+'"'+">"+e+'<span class="'+t.options.iconBase+" "+t.options.tickIcon+' check-mark"></span>'+"</a>"};this.$element.find("option").each(function(){var n=e(this);var r=n.attr("class")||"",a=n.attr("style"),f=n.data("content")?n.data("content"):n.html(),l=typeof n.data("subtext")!=="undefined"?'<small class="muted text-muted">'+n.data("subtext")+"</small>":"",c=typeof n.data("icon")!=="undefined"?'<span class="'+t.options.iconBase+" "+n.data("icon")+'"></span> ':"",h=n.is(":disabled")||n.parent().is(":disabled"),p=n[0].index;if(c!==""&&h){c="<span>"+c+"</span>"}if(!n.data("content")){f=c+'<span class="text">'+f+l+"</span>"}if(t.options.hideDisabled&&h){return}if(n.parent().is("optgroup")&&n.data("divider")!==true){if(n.index()===0){s+=1;var d=n.parent().attr("label");var v=typeof n.parent().data("subtext")!=="undefined"?'<small class="muted text-muted">'+n.parent().data("subtext")+"</small>":"";var m=n.parent().data("icon")?'<span class="'+t.options.iconBase+" "+n.parent().data("icon")+'"></span> ':"";d=m+'<span class="text">'+d+v+"</span>";if(p!==0&&i.length>0){i.push(o("",null,"divider"))}i.push(o(d,null,"dropdown-header"))}i.push(o(u(f,"opt "+r,a,s),p))}else if(n.data("divider")===true){i.push(o("",p,"divider"))}else if(n.data("hidden")===true){i.push(o(u(f,r,a),p,"hide is-hidden"))}else{i.push(o(u(f,r,a),p))}});if(!this.multiple&&this.$element.find("option:selected").length===0&&!this.options.title){this.$element.find("option").eq(0).prop("selected",true).attr("selected","selected")}return e(i.join(""))},findLis:function(){if(this.$lis==null)this.$lis=this.$menu.find("li");return this.$lis},render:function(t){var n=this;if(t!==false){this.$element.find("option").each(function(t){n.setDisabled(t,e(this).is(":disabled")||e(this).parent().is(":disabled"));n.setSelected(t,e(this).is(":selected"))})}this.tabIndex();var i=this.options.hideDisabled?":not([disabled])":"";var s=this.$element.find("option:selected"+i).map(function(){var t=e(this);var r=t.data("icon")&&n.options.showIcon?'<i class="'+n.options.iconBase+" "+t.data("icon")+'"></i> ':"";var i;if(n.options.showSubtext&&t.attr("data-subtext")&&!n.multiple){i=' <small class="muted text-muted">'+t.data("subtext")+"</small>"}else{i=""}if(t.data("content")&&n.options.showContent){return t.data("content")}else if(typeof t.attr("title")!=="undefined"){return t.attr("title")}else{return r+t.html()+i}}).toArray();var o=!this.multiple?s[0]:s.join(this.options.multipleSeparator);if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var u=this.options.selectedTextFormat.split(">");if(u.length>1&&s.length>u[1]||u.length==1&&s.length>=2){i=this.options.hideDisabled?", [disabled]":"";var a=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+i).length,f=typeof this.options.countSelectedText==="function"?this.options.countSelectedText(s.length,a):this.options.countSelectedText;o=f.replace("{0}",s.length.toString()).replace("{1}",a.toString())}}this.options.title=this.$element.attr("title");if(this.options.selectedTextFormat=="static"){o=this.options.title}if(!o){o=typeof this.options.title!=="undefined"?this.options.title:this.options.noneSelectedText}this.$button.attr("title",r(o));this.$newElement.find(".filter-option").html(o)},setStyle:function(e,t){if(this.$element.attr("class")){this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|validate\[.*\]/gi,""))}var n=e?e:this.options.style;if(t=="add"){this.$button.addClass(n)}else if(t=="remove"){this.$button.removeClass(n)}else{this.$button.removeClass(this.options.style);this.$button.addClass(n)}},liHeight:function(){if(this.options.size===false)return;var e=this.$menu.parent().clone().find("> .dropdown-toggle").prop("autofocus",false).end().appendTo("body"),t=e.addClass("open").find("> .dropdown-menu"),n=t.find("li").not(".divider").not(".dropdown-header").filter(":visible").children("a").outerHeight(),r=this.options.header?t.find(".popover-title").outerHeight():0,i=this.options.liveSearch?t.find(".bs-searchbox").outerHeight():0,s=this.options.actionsBox?t.find(".bs-actionsbox").outerHeight():0;e.remove();this.$newElement.data("liHeight",n).data("headerHeight",r).data("searchHeight",i).data("actionsHeight",s)},setSize:function(){this.findLis();var t=this,n=this.$menu,r=n.find(".inner"),i=this.$newElement.outerHeight(),s=this.$newElement.data("liHeight"),o=this.$newElement.data("headerHeight"),u=this.$newElement.data("searchHeight"),a=this.$newElement.data("actionsHeight"),f=this.$lis.filter(".divider").outerHeight(true),l=parseInt(n.css("padding-top"))+parseInt(n.css("padding-bottom"))+parseInt(n.css("border-top-width"))+parseInt(n.css("border-bottom-width")),c=this.options.hideDisabled?", .disabled":"",h=e(window),p=l+parseInt(n.css("margin-top"))+parseInt(n.css("margin-bottom"))+2,d,v,m,g=function(){v=t.$newElement.offset().top-h.scrollTop();m=h.height()-v-i};g();if(this.options.header)n.css("padding-top",0);if(this.options.size=="auto"){var y=function(){var e,i=t.$lis.not(".hide");g();d=m-p;if(t.options.dropupAuto){t.$newElement.toggleClass("dropup",v>m&&d-p<n.height())}if(t.$newElement.hasClass("dropup")){d=v-p}if(i.length+i.filter(".dropdown-header").length>3){e=s*3+p-2}else{e=0}n.css({"max-height":d+"px",overflow:"hidden","min-height":e+o+u+a+"px"});r.css({"max-height":d-o-u-a-l+"px","overflow-y":"auto","min-height":Math.max(e-l,0)+"px"})};y();this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",y);e(window).off("resize.getSize").on("resize.getSize",y);e(window).off("scroll.getSize").on("scroll.getSize",y)}else if(this.options.size&&this.options.size!="auto"&&n.find("li"+c).length>this.options.size){var b=this.$lis.not(".divider"+c).find(" > *").slice(0,this.options.size).last().parent().index();var w=this.$lis.slice(0,b+1).filter(".divider").length;d=s*this.options.size+w*f+l;if(t.options.dropupAuto){this.$newElement.toggleClass("dropup",v>m&&d<n.height())}n.css({"max-height":d+o+u+a+"px",overflow:"hidden"});r.css({"max-height":d-l+"px","overflow-y":"auto"})}},setWidth:function(){if(this.options.width=="auto"){this.$menu.css("min-width","0");var e=this.$newElement.clone().appendTo("body");var t=e.find("> .dropdown-menu").css("width");var n=e.css("width","auto").find("> button").css("width");e.remove();this.$newElement.css("width",Math.max(parseInt(t),parseInt(n))+"px")}else if(this.options.width=="fit"){this.$menu.css("min-width","");this.$newElement.css("width","").addClass("fit-width")}else if(this.options.width){this.$menu.css("min-width","");this.$newElement.css("width",this.options.width)}else{this.$menu.css("min-width","");this.$newElement.css("width","")}if(this.$newElement.hasClass("fit-width")&&this.options.width!=="fit"){this.$newElement.removeClass("fit-width")}},selectPosition:function(){var t=this,n="<div />",r=e(n),i,s,o=function(e){r.addClass(e.attr("class").replace(/form-control/gi,"")).toggleClass("dropup",e.hasClass("dropup"));i=e.offset();s=e.hasClass("dropup")?0:e[0].offsetHeight;r.css({top:i.top+s,left:i.left,width:e[0].offsetWidth,position:"absolute"})};this.$newElement.on("click",function(){if(t.isDisabled()){return}o(e(this));r.appendTo(t.options.container);r.toggleClass("open",!e(this).hasClass("open"));r.append(t.$menu)});e(window).resize(function(){o(t.$newElement)});e(window).on("scroll",function(){o(t.$newElement)});e("html").on("click",function(n){if(e(n.target).closest(t.$newElement).length<1){r.removeClass("open")}})},setSelected:function(e,t){this.findLis();this.$lis.filter('[data-original-index="'+e+'"]').toggleClass("selected",t)},setDisabled:function(e,t){this.findLis();if(t){this.$lis.filter('[data-original-index="'+e+'"]').addClass("disabled").find("a").attr("href","#").attr("tabindex",-1)}else{this.$lis.filter('[data-original-index="'+e+'"]').removeClass("disabled").find("a").removeAttr("href").attr("tabindex",0)}},isDisabled:function(){return this.$element.is(":disabled")},checkDisabled:function(){var e=this;if(this.isDisabled()){this.$button.addClass("disabled").attr("tabindex",-1)}else{if(this.$button.hasClass("disabled")){this.$button.removeClass("disabled")}if(this.$button.attr("tabindex")==-1){if(!this.$element.data("tabindex"))this.$button.removeAttr("tabindex")}}this.$button.click(function(){return!e.isDisabled()})},tabIndex:function(){if(this.$element.is("[tabindex]")){this.$element.data("tabindex",this.$element.attr("tabindex"));this.$button.attr("tabindex",this.$element.data("tabindex"))}},clickListener:function(){var t=this;this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(e){e.stopPropagation()});this.$newElement.on("click",function(){t.setSize();if(!t.options.liveSearch&&!t.multiple){setTimeout(function(){t.$menu.find(".selected a").focus()},10)}});this.$menu.on("click","li a",function(n){var r=e(this),i=r.parent().data("originalIndex"),s=t.$element.val(),o=t.$element.prop("selectedIndex");if(t.multiple){n.stopPropagation()}n.preventDefault();if(!t.isDisabled()&&!r.parent().hasClass("disabled")){var u=t.$element.find("option"),a=u.eq(i),f=a.prop("selected"),l=a.parent("optgroup"),c=t.options.maxOptions,h=l.data("maxOptions")||false;if(!t.multiple){u.prop("selected",false);a.prop("selected",true);t.$menu.find(".selected").removeClass("selected");t.setSelected(i,true)}else{a.prop("selected",!f);t.setSelected(i,!f);r.blur();if(c!==false||h!==false){var p=c<u.filter(":selected").length,d=h<l.find("option:selected").length;if(c&&p||h&&d){if(c&&c==1){u.prop("selected",false);a.prop("selected",true);t.$menu.find(".selected").removeClass("selected");t.setSelected(i,true)}else if(h&&h==1){l.find("option:selected").prop("selected",false);a.prop("selected",true);var v=r.data("optgroup");t.$menu.find(".selected").has('a[data-optgroup="'+v+'"]').removeClass("selected");t.setSelected(i,true)}else{var m=typeof t.options.maxOptionsText==="function"?t.options.maxOptionsText(c,h):t.options.maxOptionsText,g=m[0].replace("{n}",c),y=m[1].replace("{n}",h),b=e('<div class="notify"></div>');if(m[2]){g=g.replace("{var}",m[2][c>1?0:1]);y=y.replace("{var}",m[2][h>1?0:1])}a.prop("selected",false);t.$menu.append(b);if(c&&p){b.append(e("<div>"+g+"</div>"));t.$element.trigger("maxReached.bs.select")}if(h&&d){b.append(e("<div>"+y+"</div>"));t.$element.trigger("maxReachedGrp.bs.select")}setTimeout(function(){t.setSelected(i,false)},10);b.delay(750).fadeOut(300,function(){e(this).remove()})}}}}if(!t.multiple){t.$button.focus()}else if(t.options.liveSearch){t.$searchbox.focus()}if(s!=t.$element.val()&&t.multiple||o!=t.$element.prop("selectedIndex")&&!t.multiple){t.$element.change()}}});this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(e){if(e.target==this){e.preventDefault();e.stopPropagation();if(!t.options.liveSearch){t.$button.focus()}else{t.$searchbox.focus()}}});this.$menu.on("click","li.divider, li.dropdown-header",function(e){e.preventDefault();e.stopPropagation();if(!t.options.liveSearch){t.$button.focus()}else{t.$searchbox.focus()}});this.$menu.on("click",".popover-title .close",function(){t.$button.focus()});this.$searchbox.on("click",function(e){e.stopPropagation()});this.$menu.on("click",".actions-btn",function(n){if(t.options.liveSearch){t.$searchbox.focus()}else{t.$button.focus()}n.preventDefault();n.stopPropagation();if(e(this).is(".bs-select-all")){t.selectAll()}else{t.deselectAll()}t.$element.change()});this.$element.change(function(){t.render(false)})},liveSearchListener:function(){var t=this,i=e('<li class="no-results"></li>');this.$newElement.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){t.$menu.find(".active").removeClass("active");if(!!t.$searchbox.val()){t.$searchbox.val("");t.$lis.not(".is-hidden").removeClass("hide");if(!!i.parent().length)i.remove()}if(!t.multiple)t.$menu.find(".selected").addClass("active");setTimeout(function(){t.$searchbox.focus()},10)});this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(e){e.stopPropagation()});this.$searchbox.on("input propertychange",function(){if(t.$searchbox.val()){if(t.options.searchAccentInsensitive){t.$lis.not(".is-hidden").removeClass("hide").find("a").not(":aicontains("+n(t.$searchbox.val())+")").parent().addClass("hide")}else{t.$lis.not(".is-hidden").removeClass("hide").find("a").not(":icontains("+t.$searchbox.val()+")").parent().addClass("hide")}if(!t.$menu.find("li").filter(":visible:not(.no-results)").length){if(!!i.parent().length)i.remove();i.html(t.options.noneResultsText+' "'+r(t.$searchbox.val())+'"').show();t.$menu.find("li").last().after(i)}else if(!!i.parent().length){i.remove()}}else{t.$lis.not(".is-hidden").removeClass("hide");if(!!i.parent().length)i.remove()}t.$menu.find("li.active").removeClass("active");t.$menu.find("li").filter(":visible:not(.divider)").eq(0).addClass("active").find("a").focus();e(this).focus()})},val:function(e){if(typeof e!=="undefined"){this.$element.val(e);this.render();return this.$element}else{return this.$element.val()}},selectAll:function(){this.findLis();this.$lis.not(".divider").not(".disabled").not(".selected").filter(":visible").find("a").click()},deselectAll:function(){this.findLis();this.$lis.not(".divider").not(".disabled").filter(".selected").filter(":visible").find("a").click()},keydown:function(t){var r=e(this),i=r.is("input")?r.parent().parent():r.parent(),s,o=i.data("this"),u,a,f,l,c,h,p,d,v={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(o.options.liveSearch)i=r.parent().parent();if(o.options.container)i=o.$menu;s=e("[role=menu] li a",i);d=o.$menu.parent().hasClass("open");if(!d&&/([0-9]|[A-z])/.test(String.fromCharCode(t.keyCode))){if(!o.options.container){o.setSize();o.$menu.parent().addClass("open");d=true}else{o.$newElement.trigger("click")}o.$searchbox.focus()}if(o.options.liveSearch){if(/(^9$|27)/.test(t.keyCode.toString(10))&&d&&o.$menu.find(".active").length===0){t.preventDefault();o.$menu.parent().removeClass("open");o.$button.focus()}s=e("[role=menu] li:not(.divider):not(.dropdown-header):visible",i);if(!r.val()&&!/(38|40)/.test(t.keyCode.toString(10))){if(s.filter(".active").length===0){if(o.options.searchAccentInsensitive){s=o.$newElement.find("li").filter(":aicontains("+n(v[t.keyCode])+")")}else{s=o.$newElement.find("li").filter(":icontains("+v[t.keyCode]+")")}}}}if(!s.length)return;if(/(38|40)/.test(t.keyCode.toString(10))){u=s.index(s.filter(":focus"));f=s.parent(":not(.disabled):visible").first().index();l=s.parent(":not(.disabled):visible").last().index();a=s.eq(u).parent().nextAll(":not(.disabled):visible").eq(0).index();c=s.eq(u).parent().prevAll(":not(.disabled):visible").eq(0).index();h=s.eq(a).parent().prevAll(":not(.disabled):visible").eq(0).index();if(o.options.liveSearch){s.each(function(t){if(e(this).is(":not(.disabled)")){e(this).data("index",t)}});u=s.index(s.filter(".active"));f=s.filter(":not(.disabled):visible").first().data("index");l=s.filter(":not(.disabled):visible").last().data("index");a=s.eq(u).nextAll(":not(.disabled):visible").eq(0).data("index");c=s.eq(u).prevAll(":not(.disabled):visible").eq(0).data("index");h=s.eq(a).prevAll(":not(.disabled):visible").eq(0).data("index")}p=r.data("prevIndex");if(t.keyCode==38){if(o.options.liveSearch)u-=1;if(u!=h&&u>c)u=c;if(u<f)u=f;if(u==p)u=l}if(t.keyCode==40){if(o.options.liveSearch)u+=1;if(u==-1)u=0;if(u!=h&&u<a)u=a;if(u>l)u=l;if(u==p)u=f}r.data("prevIndex",u);if(!o.options.liveSearch){s.eq(u).focus()}else{t.preventDefault();if(!r.is(".dropdown-toggle")){s.removeClass("active");s.eq(u).addClass("active").find("a").focus();r.focus()}}}else if(!r.is("input")){var m=[],g,y;s.each(function(){if(e(this).parent().is(":not(.disabled)")){if(e.trim(e(this).text().toLowerCase()).substring(0,1)==v[t.keyCode]){m.push(e(this).parent().index())}}});g=e(document).data("keycount");g++;e(document).data("keycount",g);y=e.trim(e(":focus").text().toLowerCase()).substring(0,1);if(y!=v[t.keyCode]){g=1;e(document).data("keycount",g)}else if(g>=m.length){e(document).data("keycount",0);if(g>m.length)g=1}s.eq(m[g-1]).focus()}if((/(13|32)/.test(t.keyCode.toString(10))||/(^9$)/.test(t.keyCode.toString(10))&&o.options.selectOnTab)&&d){if(!/(32)/.test(t.keyCode.toString(10)))t.preventDefault();if(!o.options.liveSearch){e(":focus").click()}else if(!/(32)/.test(t.keyCode.toString(10))){o.$menu.find(".active a").click();r.focus()}e(document).data("keycount",0)}if(/(^9$|27)/.test(t.keyCode.toString(10))&&d&&(o.multiple||o.options.liveSearch)||/(27)/.test(t.keyCode.toString(10))&&!d){o.$menu.parent().removeClass("open");o.$button.focus()}},mobile:function(){this.$element.addClass("mobile-device").appendTo(this.$newElement);if(this.options.container)this.$menu.hide()},refresh:function(){this.$lis=null;this.reloadLi();this.render();this.setWidth();this.setStyle();this.checkDisabled();this.liHeight()},update:function(){this.reloadLi();this.setWidth();this.setStyle();this.checkDisabled();this.liHeight()},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove();this.$element.remove()}};var o=e.fn.selectpicker;e.fn.selectpicker=s;e.fn.selectpicker.Constructor=i;e.fn.selectpicker.noConflict=function(){e.fn.selectpicker=o;return this};e(document).data("keycount",0).on("keydown",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input",i.prototype.keydown).on("focusin.modal",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input",function(e){e.stopPropagation()});e(window).on("load.bs.select.data-api",function(){e(".selectpicker").each(function(){var t=e(this);s.call(t,t.data())})})})(jQuery);

(function(e){function t(){this._init.apply(this,arguments)}t.prototype.oninit=function(){};t.prototype.events=function(){};t.prototype.onmousedown=function(){this.ptr.css({position:"absolute"})};t.prototype.onmousemove=function(e,t,n){this.ptr.css({left:t,top:n})};t.prototype.onmouseup=function(){};t.prototype.isDefault={drag:false,clicked:false,toclick:true,mouseup:false};t.prototype._init=function(){if(arguments.length>0){this.ptr=e(arguments[0]);this.outer=e(".draggable-outer");this.is={};e.extend(this.is,this.isDefault);var t=this.ptr.offset();this.d={left:t.left,top:t.top,width:this.ptr.width(),height:this.ptr.height()};this.oninit.apply(this,arguments);this._events()}};t.prototype._getPageCoords=function(e){if(e.targetTouches&&e.targetTouches[0]){return{x:e.targetTouches[0].pageX,y:e.targetTouches[0].pageY}}else return{x:e.pageX,y:e.pageY}};t.prototype._bindEvent=function(e,t,n){var r=this;if(this.supportTouches_)e.get(0).addEventListener(this.events_[t],n,false);else e.bind(this.events_[t],n)};t.prototype._events=function(){var t=this;this.supportTouches_="ontouchend"in document;this.events_={click:this.supportTouches_?"touchstart":"click",down:this.supportTouches_?"touchstart":"mousedown",move:this.supportTouches_?"touchmove":"mousemove",up:this.supportTouches_?"touchend":"mouseup"};this._bindEvent(e(document),"move",function(e){if(t.is.drag){e.stopPropagation();e.preventDefault();t._mousemove(e)}});this._bindEvent(e(document),"down",function(e){if(t.is.drag){e.stopPropagation();e.preventDefault()}});this._bindEvent(e(document),"up",function(e){t._mouseup(e)});this._bindEvent(this.ptr,"down",function(e){t._mousedown(e);return false});this._bindEvent(this.ptr,"up",function(e){t._mouseup(e)});this.ptr.find("a").click(function(){t.is.clicked=true;if(!t.is.toclick){t.is.toclick=true;return false}}).mousedown(function(e){t._mousedown(e);return false});this.events()};t.prototype._mousedown=function(t){this.is.drag=true;this.is.clicked=false;this.is.mouseup=false;var n=this.ptr.offset();var r=this._getPageCoords(t);this.cx=r.x-n.left;this.cy=r.y-n.top;e.extend(this.d,{left:n.left,top:n.top,width:this.ptr.width(),height:this.ptr.height()});if(this.outer&&this.outer.get(0)){this.outer.css({height:Math.max(this.outer.height(),e(document.body).height()),overflow:"hidden"})}this.onmousedown(t)};t.prototype._mousemove=function(e){this.is.toclick=false;var t=this._getPageCoords(e);this.onmousemove(e,t.x-this.cx,t.y-this.cy)};t.prototype._mouseup=function(t){var n=this;if(this.is.drag){this.is.drag=false;if(this.outer&&this.outer.get(0)){if(e.browser.mozilla){this.outer.css({overflow:"hidden"})}else{this.outer.css({overflow:"visible"})}if(e.browser.msie&&e.browser.version=="6.0"){this.outer.css({height:"100%"})}else{this.outer.css({height:"auto"})}}this.onmouseup(t)}};window.Draggable=t})(jQuery);

(function(){var e={};this.tmpl=function t(n,r){var i=!/\W/.test(n)?e[n]=e[n]||t(document.getElementById(n).innerHTML):new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};"+"with(obj){p.push('"+n.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return r?i(r):i}})();

(function(e){e.baseClass=function(t){t=e(t);return t.get(0).className.match(/([^ ]+)/)[1]};e.fn.addDependClass=function(t,n){var r={delimiter:n?n:"-"};return this.each(function(){var n=e.baseClass(this);if(n)e(this).addClass(n+r.delimiter+t)})};e.fn.removeDependClass=function(t,n){var r={delimiter:n?n:"-"};return this.each(function(){var n=e.baseClass(this);if(n)e(this).removeClass(n+r.delimiter+t)})};e.fn.toggleDependClass=function(t,n){var r={delimiter:n?n:"-"};return this.each(function(){var n=e.baseClass(this);if(n)if(e(this).is("."+n+r.delimiter+t))e(this).removeClass(n+r.delimiter+t);else e(this).addClass(n+r.delimiter+t)})}})(jQuery);

(function(e){function t(e){if(typeof e=="undefined")return false;if(e instanceof Array||!(e instanceof Object)&&Object.prototype.toString.call(e)=="[object Array]"||typeof e.length=="number"&&typeof e.splice!="undefined"&&typeof e.propertyIsEnumerable!="undefined"&&!e.propertyIsEnumerable("splice")){return true}return false}function r(){return this.init.apply(this,arguments)}function i(){Draggable.apply(this,arguments)}e.slider=function(t,n){var i=e(t);if(!i.data("jslider"))i.data("jslider",new r(t,n));return i.data("jslider")};e.fn.slider=function(n,r){function o(e){return e!==undefined}function u(e){return e!=null}var i,s=arguments;this.each(function(){var a=e.slider(this,n);if(typeof n=="string"){switch(n){case"value":if(o(s[1])&&o(s[2])){var f=a.getPointers();if(u(f[0])&&u(s[1])){f[0].set(s[1]);f[0].setIndexOver()}if(u(f[1])&&u(s[2])){f[1].set(s[2]);f[1].setIndexOver()}}else if(o(s[1])){var f=a.getPointers();if(u(f[0])&&u(s[1])){f[0].set(s[1]);f[0].setIndexOver()}}else i=a.getValue();break;case"prc":if(o(s[1])&&o(s[2])){var f=a.getPointers();if(u(f[0])&&u(s[1])){f[0]._set(s[1]);f[0].setIndexOver()}if(u(f[1])&&u(s[2])){f[1]._set(s[2]);f[1].setIndexOver()}}else if(o(s[1])){var f=a.getPointers();if(u(f[0])&&u(s[1])){f[0]._set(s[1]);f[0].setIndexOver()}}else i=a.getPrcValue();break;case"calculatedValue":var l=a.getValue().split(";");i="";for(var c=0;c<l.length;c++){i+=(c>0?";":"")+a.nice(l[c])}break;case"skin":a.setSkin(s[1]);break}}else if(!n&&!r){if(!t(i))i=[];i.push(a)}});if(t(i)&&i.length==1)i=i[0];return i||this};var n={settings:{from:1,to:10,step:1,smooth:true,limits:true,round:0,format:{format:"#,##0.##"},value:"5;7",dimension:""},className:"jslider",selector:".jslider-",template:tmpl('<span class="<%=className%>">'+"<table><tr><td>"+'<div class="<%=className%>-bg">'+'<i class="l"></i><i class="f"></i><i class="r"></i>'+'<i class="v"></i>'+"</div>"+'<div class="<%=className%>-pointer"></div>'+'<div class="<%=className%>-pointer <%=className%>-pointer-to"></div>'+'<div class="<%=className%>-label"><span><%=settings.from%></span></div>'+'<div class="<%=className%>-label <%=className%>-label-to"><span><%=settings.to%></span><%=settings.dimension%></div>'+'<div class="<%=className%>-value"><span></span><%=settings.dimension%></div>'+'<div class="<%=className%>-value <%=className%>-value-to"><span></span><%=settings.dimension%></div>'+'<div class="<%=className%>-scale"><%=scale%></div>'+"</td></tr></table>"+"</span>")};r.prototype.init=function(t,r){this.settings=e.extend(true,{},n.settings,r?r:{});this.inputNode=e(t).hide();this.settings.interval=this.settings.to-this.settings.from;this.settings.value=this.inputNode.attr("value");if(this.settings.calculate&&e.isFunction(this.settings.calculate))this.nice=this.settings.calculate;if(this.settings.onstatechange&&e.isFunction(this.settings.onstatechange))this.onstatechange=this.settings.onstatechange;this.is={init:false};this.o={};this.create()};r.prototype.onstatechange=function(){};r.prototype.create=function(){var t=this;this.domNode=e(n.template({className:n.className,settings:{from:this.nice(this.settings.from),to:this.nice(this.settings.to),dimension:this.settings.dimension},scale:this.generateScale()}));this.inputNode.after(this.domNode);this.drawScale();if(this.settings.skin&&this.settings.skin.length>0)this.setSkin(this.settings.skin);this.sizes={domWidth:this.domNode.width(),domOffset:this.domNode.offset()};e.extend(this.o,{pointers:{},labels:{0:{o:this.domNode.find(n.selector+"value").not(n.selector+"value-to")},1:{o:this.domNode.find(n.selector+"value").filter(n.selector+"value-to")}},limits:{0:this.domNode.find(n.selector+"label").not(n.selector+"label-to"),1:this.domNode.find(n.selector+"label").filter(n.selector+"label-to")}});e.extend(this.o.labels[0],{value:this.o.labels[0].o.find("span")});e.extend(this.o.labels[1],{value:this.o.labels[1].o.find("span")});if(!t.settings.value.split(";")[1]){this.settings.single=true;this.domNode.addDependClass("single")}if(!t.settings.limits)this.domNode.addDependClass("limitless");this.domNode.find(n.selector+"pointer").each(function(e){var n=t.settings.value.split(";")[e];if(n){t.o.pointers[e]=new i(this,e,t);var r=t.settings.value.split(";")[e-1];if(r&&new Number(n)<new Number(r))n=r;n=n<t.settings.from?t.settings.from:n;n=n>t.settings.to?t.settings.to:n;t.o.pointers[e].set(n,true)}});this.o.value=this.domNode.find(".v");this.is.init=true;e.each(this.o.pointers,function(e){t.redraw(this)});(function(t){e(window).resize(function(){t.onresize()})})(this)};r.prototype.setSkin=function(e){if(this.skin_)this.domNode.removeDependClass(this.skin_,"_");this.domNode.addDependClass(this.skin_=e,"_")};r.prototype.setPointersIndex=function(t){e.each(this.getPointers(),function(e){this.index(e)})};r.prototype.getPointers=function(){return this.o.pointers};r.prototype.generateScale=function(){if(this.settings.scale&&this.settings.scale.length>0){var e="";var t=this.settings.scale;var n=Math.round(100/(t.length-1)*10)/10;for(var r=0;r<t.length;r++){e+='<span style="left: '+r*n+'%">'+(t[r]!="|"?"<ins>"+t[r]+"</ins>":"")+"</span>"}return e}else return"";return""};r.prototype.drawScale=function(){this.domNode.find(n.selector+"scale span ins").each(function(){e(this).css({marginLeft:-e(this).outerWidth()/2})})};r.prototype.onresize=function(){var t=this;this.sizes={domWidth:this.domNode.width(),domOffset:this.domNode.offset()};e.each(this.o.pointers,function(e){t.redraw(this)})};r.prototype.update=function(){this.onresize();this.drawScale()};r.prototype.limits=function(e,t){if(!this.settings.smooth){var n=this.settings.step*100/this.settings.interval;e=Math.round(e/n)*n}var r=this.o.pointers[1-t.uid];if(r&&t.uid&&e<r.value.prc)e=r.value.prc;if(r&&!t.uid&&e>r.value.prc)e=r.value.prc;if(e<0)e=0;if(e>100)e=100;return Math.round(e*10)/10};r.prototype.redraw=function(e){if(!this.is.init)return false;this.setValue();if(this.o.pointers[0]&&this.o.pointers[1])this.o.value.css({left:this.o.pointers[0].value.prc+"%",width:this.o.pointers[1].value.prc-this.o.pointers[0].value.prc+"%"});this.o.labels[e.uid].value.html(this.nice(e.value.origin));this.redrawLabels(e)};r.prototype.redrawLabels=function(e){function t(e,t,r){t.margin=-t.label/2;label_left=t.border+t.margin;if(label_left<0)t.margin-=label_left;if(t.border+t.label/2>n.sizes.domWidth){t.margin=0;t.right=true}else t.right=false;e.o.css({left:r+"%",marginLeft:t.margin,right:"auto"});if(t.right)e.o.css({left:"auto",right:0});return t}var n=this;var r=this.o.labels[e.uid];var i=e.value.prc;var s={label:r.o.outerWidth(),right:false,border:i*this.sizes.domWidth/100};if(!this.settings.single){var o=this.o.pointers[1-e.uid];var u=this.o.labels[o.uid];switch(e.uid){case 0:if(s.border+s.label/2>u.o.offset().left-this.sizes.domOffset.left){u.o.css({visibility:"hidden"});u.value.html(this.nice(o.value.origin));r.o.css({visibility:"visible"});i=(o.value.prc-i)/2+i;if(o.value.prc!=e.value.prc){r.value.html(this.nice(e.value.origin)+"&nbsp;&ndash;&nbsp;"+this.nice(o.value.origin));s.label=r.o.outerWidth();s.border=i*this.sizes.domWidth/100}}else{u.o.css({visibility:"visible"})}break;case 1:if(s.border-s.label/2<u.o.offset().left-this.sizes.domOffset.left+u.o.outerWidth()){u.o.css({visibility:"hidden"});u.value.html(this.nice(o.value.origin));r.o.css({visibility:"visible"});i=(i-o.value.prc)/2+o.value.prc;if(o.value.prc!=e.value.prc){r.value.html(this.nice(o.value.origin)+"&nbsp;&ndash;&nbsp;"+this.nice(e.value.origin));s.label=r.o.outerWidth();s.border=i*this.sizes.domWidth/100}}else{u.o.css({visibility:"visible"})}break}}s=t(r,s,i);if(u){var s={label:u.o.outerWidth(),right:false,border:o.value.prc*this.sizes.domWidth/100};s=t(u,s,o.value.prc)}this.redrawLimits()};r.prototype.redrawLimits=function(){if(this.settings.limits){var e=[true,true];for(key in this.o.pointers){if(!this.settings.single||key==0){var t=this.o.pointers[key];var n=this.o.labels[t.uid];var r=n.o.offset().left-this.sizes.domOffset.left;var i=this.o.limits[0];if(r<i.outerWidth())e[0]=false;var i=this.o.limits[1];if(r+n.o.outerWidth()>this.sizes.domWidth-i.outerWidth())e[1]=false}}for(var s=0;s<e.length;s++){if(e[s])this.o.limits[s].fadeIn("fast");else this.o.limits[s].fadeOut("fast")}}};r.prototype.setValue=function(){var e=this.getValue();this.inputNode.attr("value",e);this.onstatechange.call(this,e)};r.prototype.getValue=function(){if(!this.is.init)return false;var t=this;var n="";e.each(this.o.pointers,function(e){if(this.value.prc!=undefined&&!isNaN(this.value.prc))n+=(e>0?";":"")+t.prcToValue(this.value.prc)});return n};r.prototype.getPrcValue=function(){if(!this.is.init)return false;var t=this;var n="";e.each(this.o.pointers,function(e){if(this.value.prc!=undefined&&!isNaN(this.value.prc))n+=(e>0?";":"")+this.value.prc});return n};r.prototype.prcToValue=function(e){if(this.settings.heterogeneity&&this.settings.heterogeneity.length>0){var t=this.settings.heterogeneity;var n=0;var r=this.settings.from;for(var i=0;i<=t.length;i++){if(t[i])var s=t[i].split("/");else var s=[100,this.settings.to];s[0]=new Number(s[0]);s[1]=new Number(s[1]);if(e>=n&&e<=s[0]){var o=r+(e-n)*(s[1]-r)/(s[0]-n)}n=s[0];r=s[1]}}else{var o=this.settings.from+e*this.settings.interval/100}return this.round(o)};r.prototype.valueToPrc=function(e,t){if(this.settings.heterogeneity&&this.settings.heterogeneity.length>0){var n=this.settings.heterogeneity;var r=0;var i=this.settings.from;for(var s=0;s<=n.length;s++){if(n[s])var o=n[s].split("/");else var o=[100,this.settings.to];o[0]=new Number(o[0]);o[1]=new Number(o[1]);if(e>=i&&e<=o[1]){var u=t.limits(r+(e-i)*(o[0]-r)/(o[1]-i))}r=o[0];i=o[1]}}else{var u=t.limits((e-this.settings.from)*100/this.settings.interval)}return u};r.prototype.round=function(e){e=Math.round(e/this.settings.step)*this.settings.step;if(this.settings.round)e=Math.round(e*Math.pow(10,this.settings.round))/Math.pow(10,this.settings.round);else e=Math.round(e);return e};r.prototype.nice=function(t){t=t.toString().replace(/,/gi,".").replace(/ /gi,"");if(e.formatNumber){return e.formatNumber(new Number(t),this.settings.format||{}).replace(/-/gi,"&minus;")}else{return new Number(t)}};i.prototype=new Draggable;i.prototype.oninit=function(e,t,n){this.uid=t;this.parent=n;this.value={};this.settings=this.parent.settings};i.prototype.onmousedown=function(e){this._parent={offset:this.parent.domNode.offset(),width:this.parent.domNode.width()};this.ptr.addDependClass("hover");this.setIndexOver()};i.prototype.onmousemove=function(e,t){var n=this._getPageCoords(e);this._set(this.calc(n.x))};i.prototype.onmouseup=function(t){if(this.parent.settings.callback&&e.isFunction(this.parent.settings.callback))this.parent.settings.callback.call(this.parent,this.parent.getValue());this.ptr.removeDependClass("hover")};i.prototype.setIndexOver=function(){this.parent.setPointersIndex(1);this.index(2)};i.prototype.index=function(e){this.ptr.css({zIndex:e})};i.prototype.limits=function(e){return this.parent.limits(e,this)};i.prototype.calc=function(e){var t=this.limits((e-this._parent.offset.left)*100/this._parent.width);return t};i.prototype.set=function(e,t){this.value.origin=this.parent.round(e);this._set(this.parent.valueToPrc(e,this),t)};i.prototype._set=function(e,t){if(!t)this.value.origin=this.parent.prcToValue(e);this.value.prc=e;this.ptr.css({left:e+"%"});this.parent.redraw(this)}})(jQuery);